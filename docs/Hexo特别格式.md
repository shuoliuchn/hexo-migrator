## Hexo 格式说明

### 特殊的花括号

Hexo 渲染引擎在工作时会用到下面几种花括号的特殊用法：

```jinja2
{{ }}
{# #}
{% %}
```

代码块，即三对反引号包裹的块级注释，是不受影响的。事实上，代码块中不会进行任何的格式审查。

但是对于行内代码，即一对反引号括起来的内容来说，如果这里面有上面这三个格式，就会出现渲染错误。

一个解决方案是不在行内写这样的内容，把它们都转移到代码块中。

但是这会在一定限度上限制我们的使用，尤其是当涉及 Django 的模板渲染还有 Vue 的基本语法的时候。

似乎 Hexo 天生就是一个程序员不友好的工具。然而程序员偏偏不怕这不友好。

经测试，反斜杠转义并不能解决问题。要解决问题，需要将花括号格式的内容进行如下包裹：

```jinja2
{% raw %}{{ 双花括号内包裹的内容 }}{% endraw %}
```

注意，只包裹需要转移的内容，即不要进行 markdown 渲染的部分。如果是行内注释，不要把反引号也加上，否则的话，行内注释将不生效：

```jinja2
`{% raw %}{{ 双花括号内包裹的内容 }}{% endraw %}`    # 应该写成这样，反引号在外面
{% raw %}`{{ 双花括号内包裹的内容 }}`{% endraw %}    # 不要写成这样，不要把反引号放里面
```

有一点需要注意，raw 和 endraw 旁边的换行符有可能被无视（貌似是 endraw 和 raw 之间的换行），所以不要把这种特殊符号写在一段话的开头或者结尾。这是 Hexo 渲染本身的 bug，无法规避的。

### 图片（静态文件）

静态文件，主要是图片的导入也有些说道。

首先，静态文件夹的名字应该和当前文件同名（不包括后缀名中的 `.md` 哈）。然后，静态文件要使用相对路径或图床路径，写绝对路径是肯定不成的。最后，静态文件的文件夹要和当前文件放在同一个文件夹里面，最好不要分开放。

很多博客都是直接把图片丢到图床，然后使用外链。这样做可行，但是麻烦。而且我们辛辛苦苦画的图，放到别人那里，心里总是不自在。而且图床要么收费，要么会压缩图片，总会对图片有各种限制，总不如放在自己的服务器上来得痛快。

如果写成相对路径，虽然能用，但是有可能会出问题。Hexo 官方给出的静态文件的引入方式是：

1. 在站点配置文件 `_config.yml` 中设置：

   ```ini
   post_asset_folder: true
   ```

2. 静态文件夹和博客文件处在相同位置

3. 静态文件夹和博客文件同名（不要有 `.md` 后缀）

4. 在博客中使用下面的格式引入图片：

   ```jinja2
   {% asset_img example.jpg 图片描述 %}
   ```

   图片描述不写也可以

既然官方推荐了这种写法，我就将相对路径的图片尽量都转换成这种格式

### 站内链接

这其实不算是 Hexo 的特别格式。这是桌面版 `.md` 文件和网站链接的不同而产生的差异。

该怎么说呢？当我们使用 Typera 写东西的时候，要引入另外一个文章的链接。当然要写成相对路径（也可以是绝对路径）只想到我们想要的那个文件。一般也是一个 md 文件，比如 `../linux/python.md`。

但是在网页中不是这样，我们要用一个链接指向另外一个网页。这个网页应该不是 md 文件了。另外，也不太好将网页写成相对路径，诸如 `../..` 的东西，很奇怪的。网页的路径，还是相对于项目根路径写成绝对路径的形式比较清晰，自己不会乱。

我希望看到的链接是 `/linux/python` 这样的，所以我会将站内的链接都改成这个样子。